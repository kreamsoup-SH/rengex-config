# 가져오기 단계에서 추출할 텍스트의 정규식 파일입니다. 기본값으로 파일 전체를 번역합니다.
# 파일 전체가 하나의 정규식이고, #으로 시작하는 줄은 주석으로 처리됩니다.# (?<영문이름>)으로 감싼 그룹의 내용만 추출합니다.
# 닷넷 정규식 문법 URL: https://docs.microsoft.com/ko-kr/dotnet/standard/base-types/regular-expression-language-quick-reference
# 정규식 테스트 URL: https://regex101.com/r/IQeg4l/1

# RPG Maker MV .json 파일 대응 추출 정규식

# 주석, 문자열 아닌 것 스킵
[^"'/]+

# 한 줄 주석
|//(?<cmt>.*?[\jp].*)

# 여러 줄 주석
|/\*(?<cmt>(?:(?<!\*/)[\s\S])*?[\jp][\s\S]*?)\*/

# "..." 안 일본어.
# ,등으로 문자열을 분할하는 경우 번역 과정에서 공백이 들어가면 안 되기에 배제
|"
# 붙어있는 일본어 전부 캡처
(?>
  # 일본어를 포함한 공백으로 연결된 비아스키
  (?<val>[^\x00-\x1F\x21-\x7F]*?[\jp][^\x00-\x1F\x21-\x7F]*)
  # 비일본어, 이스케이프 스킵
  |(?>\\.|[^\jp"])*
)*?
# 뒤에 :가 나오면 키이므로 위험
"(?!\s*:)

# '...' 안 일본어
# ,등으로 문자열을 분할하는 경우 번역 과정에서 공백이 들어가면 안 되기에 배제
|'
# 붙어있는 일본어 전부 캡처
(?>
  # 일본어를 포함한 공백으로 연결된 비아스키
  (?<val>[^\x00-\x1F\x21-\x7F]*?[\jp][^\x00-\x1F\x21-\x7F]*)
  # 비일본어, 이스케이프 스킵
  |(?>\\.|[^\jp"])*
)*?
# 뒤에 :가 나오면 키이므로 위험
'(?!\s*:)

# 만의 하나 문자열 스킵
|"(?>\\.|[^"\n])*"
|'(?>\\.|[^'\n])*'
